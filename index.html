<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>扫码播放音频</title>
  <style>
    :root{
      --rose:#bf1650;
      --rose-dark:#9f1843;
      --yellow-1: #FFD600;   /* 纯黄色 */
      --yellow-2: #FFEA75;
      --overlay-alpha: 0.38;  /* 覆盖在图片上的玫红滤镜透明度（0 到 1） */
      --muted: rgba(255,255,255,0.94);
    }

    html,body{height:100%;margin:0;font-family:-apple-system,"Segoe UI",Roboto,"Noto Sans SC","PingFang SC","Microsoft Yahei",Arial,sans-serif;background:#0f0f10;color:var(--muted);-webkit-font-smoothing:antialiased}
    /* 页面整体背景使用 1.jpg */
    body{
      background-image: url('background.jpg');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
      min-height:100vh;
    }

    /* 玫红覆盖层（可通过 --overlay-alpha 调整强度） */
    .overlay{
      position:fixed; inset:0;
      background: linear-gradient(180deg, var(--rose), var(--rose-dark));
      opacity: var(--overlay-alpha);
      pointer-events:none;
      mix-blend-mode: multiply;
    }

    .container{
      width:min(1050px,98%);
      max-width:1050px;
      border-radius:14px;
      padding:20px;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.12));
      box-shadow: 0 20px 50px rgba(0,0,0,0.45);
      backdrop-filter: blur(6px) saturate(120%);
      border:1px solid rgba(255,255,255,0.04);
      display:flex;
      gap:18px;
      align-items:center;
      color:var(--yellow-1);
    }

    .cover{
      width:220px;height:220px;border-radius:12px;overflow:hidden;flex:0 0 220px;
      box-shadow: 0 8px 30px rgba(0,0,0,0.45);
      display:flex;align-items:center;justify-content:center;
      background:linear-gradient(135deg, rgba(255,255,255,0.02), rgba(0,0,0,0.12));
    }
    .cover img{width:100%;height:100%;object-fit:cover;display:block;filter:contrast(1.03) saturate(1.05);}

    .main{flex:1;min-width:0;display:flex;flex-direction:column;gap:8px}

    /* 名字（纯黄色 + 描边 + 柔和阴影） */
    .hero{display:flex;flex-direction:column;gap:6px}
    .name {
      font-weight:900;
      line-height:1;
      font-size: clamp(36px, 8.6vw, 84px);
      margin:0;padding:0;letter-spacing:-0.6px;
      position:relative;
      color: var(--yellow-1);
      -webkit-text-stroke: 1px rgba(0,0,0,0.56);
      text-shadow: 0 8px 28px rgba(0,0,0,0.72), 0 2px 6px rgba(0,0,0,0.5);
      transition: transform .35s ease;
      transform-origin:left center;
    }

    /* 轻微高光（不改变纯黄） */
    .name::after{
      content: "";
      position: absolute;
      inset: 0;
      pointer-events:none;
      background: linear-gradient(90deg, rgba(255,255,255,0.08), rgba(255,255,255,0.02), rgba(255,255,255,0));
      mix-blend-mode: overlay;
      opacity: 0;
      transform: translateX(-30%);
      transition: all 1.2s cubic-bezier(.2,.9,.2,1);
      filter: blur(6px);
    }
    .name.glow::after{ opacity: 0.9; transform: translateX(100%); }

    .tagline{ color: rgba(255,255,255,0.92); font-size:14px; margin:0 0 6px 0; }

    .controls{ display:flex; gap:12px; align-items:center; margin-top:6px; flex-wrap:wrap }
    .play-btn{
      display:inline-flex;align-items:center;gap:10px;padding:12px 18px;border-radius:12px;border:0;
      font-weight:800;color:#0f0f10;background: linear-gradient(90deg, var(--yellow-1), var(--yellow-2));
      box-shadow: 0 10px 30px rgba(0,0,0,0.28);
      cursor:pointer; transition: transform .12s, box-shadow .12s;
    }
    .play-btn:hover{ transform: translateY(-3px); box-shadow: 0 18px 40px rgba(0,0,0,0.36); }
    .progress{ width:320px; max-width:60%; height:8px; border-radius:999px; background:rgba(255,255,255,0.06); outline:none }
    .progress::-webkit-slider-thumb{ -webkit-appearance:none; width:14px;height:14px;border-radius:50%; background:var(--yellow-2); box-shadow:0 6px 14px rgba(0,0,0,0.45); border:2px solid rgba(255,255,255,0.12); }

    @media (max-width:780px){
      .container{flex-direction:column; padding:16px; align-items:center;}
      .cover{width:86%;height:200px;flex:unset;}
      .main{width:100%;}
      .name{font-size: clamp(28px, 10vw, 56px); text-align:center; width:100%;}
      .hero{align-items:center;}
      .progress{max-width:100%;}
    }
  </style>
</head>
<body>
  <!-- 红色半透明叠层（可调整 --overlay-alpha） -->
  <div class="overlay" aria-hidden="true"></div>

  <div class="container" role="main">
    <div class="cover" aria-hidden="true">
      <!-- 封面使用 文件 袁森.jpg -->
      <img src="袁森.jpg" alt="封面 - 袁森">
    </div>

    <div class="main">
      <div class="hero">
        <h1 id="heroName" class="name">袁森</h1>
        <p class="tagline">五老精神代表人</p>
      </div>

      <div style="display:flex;flex-direction:column;gap:8px">
        <div class="controls">
          <button id="playBtn" class="play-btn" aria-pressed="false" aria-label="播放或暂停">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" style="display:block"><path d="M5 3v18l15-9L5 3z" fill="black"/></svg>
            <span id="btnText">播放</span>
          </button>

          <input id="progress" class="progress" type="range" min="0" max="100" value="0" aria-label="播放进度">
          <div id="time" style="color:rgba(255,255,255,0.9);min-width:90px;text-align:right;font-weight:600">00:00 / 00:00</div>
        </div>

        <div style="margin-top:8px;color:rgba(255,255,255,0.9);font-size:13px">
          <a id="download" href="袁森.mp3" download style="color:var(--yellow-2);text-decoration:underline">下载音频</a>
          <span style="margin-left:8px;color:rgba(255,255,255,0.78)">· 若无法播放请尝试更换浏览器或点击下载</span>
        </div>
      </div>
    </div>
  </div>

  <audio id="audio" preload="auto" playsinline>
    <source src="袁森.mp3" type="audio/mpeg">
    您的浏览器不支持 audio 元素。
  </audio>

  <script>
    const audio = document.getElementById('audio');
    const playBtn = document.getElementById('playBtn');
    const btnText = document.getElementById('btnText');
    const progress = document.getElementById('progress');
    const time = document.getElementById('time');
    const heroName = document.getElementById('heroName');

    window.addEventListener('load', ()=>{
      // 轻扫高光动画（不改变基础黄色）
      heroName.classList.add('glow');
      setTimeout(()=> heroName.classList.remove('glow'), 1400);
      // 尝试自动播放（大多数浏览器会阻止）
      audio.play().catch(()=>{});
    });

    function fmt(sec){
      if (!isFinite(sec)) return '00:00';
      const m = Math.floor(sec/60).toString().padStart(2,'0');
      const s = Math.floor(sec%60).toString().padStart(2,'0');
      return `${m}:${s}`;
    }

    playBtn.addEventListener('click', async ()=>{
      try {
        if (audio.paused){ await audio.play(); btnText.textContent='暂停'; }
        else { audio.pause(); btnText.textContent='播放'; }
      } catch(e){ console.error(e); }
    });

    audio.addEventListener('timeupdate', ()=>{
      if (isFinite(audio.duration)){
        const pct = (audio.currentTime/audio.duration)*100;
        progress.value = pct;
        time.textContent = `${fmt(audio.currentTime)} / ${fmt(audio.duration)}`;
      } else {
        time.textContent = '00:00 / 00:00';
      }
    });

    progress.addEventListener('input', (e)=>{
      const val = Number(e.target.value);
      if (isFinite(audio.duration)) time.textContent = `${fmt((val/100)*audio.duration)} / ${fmt(audio.duration)}`;
    });
    progress.addEventListener('change', (e)=>{
      const val = Number(e.target.value);
      if (isFinite(audio.duration)) audio.currentTime = (val/100)*audio.duration;
    });

    // 首次触摸触发播放（提升扫码后即播体验）
    document.addEventListener('touchstart', function onFirst(){
      if (audio.paused) audio.play().catch(()=>{});
      document.removeEventListener('touchstart', onFirst);
    }, {passive:true});
  </script>
</body>
</html>
